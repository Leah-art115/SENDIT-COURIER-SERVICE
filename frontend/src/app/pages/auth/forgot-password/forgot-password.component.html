<div class="auth-container">
  
  <!-- Step 1: Email Input -->
  <div *ngIf="currentStep === 'email'">
    <h2>Forgot Password</h2>
    <p>Enter your email address to receive a reset code</p>
    
    <form [formGroup]="emailForm" (ngSubmit)="onSendOtp()">
      <input 
        formControlName="email" 
        placeholder="Enter your email" 
        type="email" 
      />
      <button type="submit" [disabled]="emailForm.invalid">
        Send Reset Code
      </button>
    </form>
    
    <p class="alt-option">
      Remember your password? 
      <a routerLink="/auth/login">Back to Login</a>
    </p>
  </div>

  <!-- Step 2: OTP Verification -->
  <div *ngIf="currentStep === 'otp'">
    <h2>Verify Code</h2>
    <p>Enter the 6-digit code sent to your email</p>
    
    <form [formGroup]="otpForm" (ngSubmit)="onVerifyOtp()">
      <input 
        formControlName="otp" 
        placeholder="Enter 6-digit code" 
        type="text" 
        maxlength="6"
      />
      <button type="submit" [disabled]="otpForm.invalid">
        Verify Code
      </button>
    </form>
    
    <p class="alt-option">
      <a (click)="goBack()">← Back to Email</a>
    </p>
  </div>

  <!-- Step 3: Reset Password -->
  <div *ngIf="currentStep === 'reset'">
    <h2>Reset Password</h2>
    <p>Enter your new password</p>
    
    <form [formGroup]="resetForm" (ngSubmit)="onResetPassword()">
      <input 
        formControlName="newPassword" 
        placeholder="New Password" 
        type="password" 
      />
      <input 
        formControlName="confirmPassword" 
        placeholder="Confirm New Password" 
        type="password" 
      />
      
      <div *ngIf="resetForm.hasError('mismatch')" class="error-message">
        Passwords do not match
      </div>
      
      <button type="submit" [disabled]="resetForm.invalid">
        Reset Password
      </button>
    </form>
    
    <p class="alt-option">
      <a (click)="goBack()">← Back to Verification</a>
    </p>
  </div>

</div>